!function(){"use strict";angular.module("bbui.core",[]).factory("bbui",["$window",function(a){function b(a,b,c){return a===b||!(!c||typeof a!==f||typeof b!==f)&&a.toUpperCase()===b.toUpperCase()}var c,d=new RegExp("[.*+?|()\\[\\]{}\\\\\\$\\^]","g"),e=a.encodeURIComponent,f="string";return c={emptyGuid:"00000000-0000-0000-0000-000000000000",is:function(a){return"undefined"!=typeof a&&null!==a},findByProp:function(a,d,e,f,g){var h,i,j;if(a)for(h=a.length||0;h--;)if(i=a[h],i&&(j=c.getPropValue(i,d,f),b(j,e,g)))return i;return null},getPropValue:function(a,b,c,d){var e,f;if(a&&b){if("undefined"!=typeof a[b])return a[b];if(c){f=b.toUpperCase();for(e in a)if(e.toUpperCase()===f)return a[e]}}return d},clone:function(a){var b,c;if("undefined"!=typeof a){if(null===a)return null;b={};for(c in a)a.hasOwnProperty(c)&&(b[c]=a[c])}return b},copyProps:function(a,b){var c;if(b)for(c in b)b.hasOwnProperty(c)&&(a[c]=b[c])},guidEquals:function(a,b,c,d){return typeof a===f&&typeof b===f&&(c||(a=a.toUpperCase()),d||(b=b.toUpperCase()),a===b)},getObjByName:function(b){var c,d,e,f,g;for(f=b.split("."),e=a,c=0,d=f.length;c<d;c++)if(g=f[c],(0!==c||"window"!==g)&&(e=e[g],"undefined"==typeof e))return null;return e},urlConcat:function(a){var b,d,e,f,g;if(d=arguments.length){if(!c.is(a))return null;for(g=a.toString(),f=1;f<d;f++){if(e=arguments[f],!c.is(e))return null;b=e.toString(),"/"!==g.charAt(g.length-1)&&"/"!==b.charAt(0)&&(g+="/"),g+=b}return g}return null},argsToArray:function(a,b){return Array.prototype.slice.call(a,b||0)},arrayToQueryString:function(a,b,c){var d,f,g,h;if(h="",a&&a.length)for(b=b||"",d=0,g=a.length;d<g;d++)f=a[d],(d>0||c)&&(h+="&"),h+=b+e(f.id||f.name)+"="+e(f.value);return h},getAbsoluteBaseUrl:function(b){var c,d,e;if(!b)return b;for(e=b.split("/").length,c=a.location.href.split("?")[0],d=0;d<e+1;d++)c=c.substr(0,c.lastIndexOf("/"));return c},endsWith:function(a,b){var c;return typeof a===f&&typeof b===f&&(c=a.length-b.length,c>=0&&a.lastIndexOf(b)===c)},override:function(a,b){var c,d,e;c={};for(e in b)b.hasOwnProperty(e)&&(d=a[e],d&&(c[e]=d),a[e]=b[e]);return c},escapeRegExp:function(a){return typeof a===f?a.replace(d,"\\$&"):null}}}])}(),function(){"use strict";angular.module("bbui",["bbui.core","bbui.shellservice","bbui.uimodelingservice"])}(),function(){"use strict";angular.module("bbui.shellservice",["bbui.core"]).constant("bbuiShellServiceConfig",{baseUrl:null,databaseName:null}).factory("bbuiShellService",["$http","bbui","bbuiShellServiceConfig",function(a,b,c){var d;return function(){function a(a,b,c,d){"undefined"==typeof d&&(d=!!c),d&&(a.push("&"+b+"="),a.push(o(c)))}function e(c,d,e,f,g,h,i,j){var k;return k=[],c.proxyUrl?k.push(c.proxyUrl+(c.proxyUrl.indexOf("?")>=0?"&":"?")+"fileName="+o(d)+"&"):k.push(b.urlConcat(c.baseUrl,"webui/"+d+"?")),k.push("databaseName="+o(c.databaseName)),a(k,"runAs",c.runAs),a(k,"action",e),a(k,"pageId",f),a(k,"tabId",g),a(k,"sectionId",h),a(k,"actionId",i),a(k,"contextRecordId",j),k.join("")}function f(a,b,c,d,f,g,h){return e(a,"WebShellService.ashx",b,c,d,f,g,h)}function g(a){return e(a,"WebShellAdHocQueryService.ashx")}function h(a,b,c,d,f){var g;return g=e(a,"WebShellDataListService.ashx",null,c,d,f)+"&dataListId="+o(b)}function i(a,b,c){return e(a,"WebShellSearchListService.ashx")+"&searchListId="+o(b)+"&criteria="+o(c)}function j(a,c){return c&&(c.securityContextFeatureId&&(a+="&securityContextFeatureId="+o(c.securityContextFeatureId)),b.is(c.securityContextFeatureType)&&(a+="&securityContextFeatureType="+o(c.securityContextFeatureType))),a}function k(a){var d;return d={},b.copyProps(d,c.globalHttpHeaders),b.copyProps(d,a.httpHeaders),d}function l(a,b,c,d){return a.$http({method:b,url:c,data:d,headers:k(a),cache:!1})}function m(a,b){return a.doGet(b)}function n(a,b,c){return a.doPost(b,c)}var o=encodeURIComponent,p="p_";d=function(a,b,c){var d;d=this,d.baseUrl=a,d.databaseName=b,c&&(d.runAs=c.runAs,d.onRequestBegin=c.onRequestBegin,d.onRequestEnd=c.onRequestEnd,d.httpHeaders=c.httpHeaders,d.proxyUrl=c.proxyUrl)},d.prototype={baseUrl:null,databaseName:null,login:function(a){var b;return b=e(this,"WebShellLogin.aspx")+"&action=login",n(this,b,a)},logout:function(){var a;return a=e(this,"WebShellLogin.aspx")+"&action=logout",n(this,a,null)},sendPasswordResetLink:function(a){var b;return b=e(this,"WebShellLogin.aspx")+"&action=sendPasswordResetLink&emailAddress="+a,n(this,b,null)},resetPassword:function(a){var b;return b=e(this,"WebShellLogin.aspx")+"&action=resetPassword",n(this,b,a)},sessionStart:function(){var a;return a=f(this,"sessionStart"),n(this,a,null)},getNavigation:function(a){var b;return b=f(this,"getNavigation"),a.refreshCache&&(b+="&refreshCache=true"),m(this,b)},getPage:function(a,b,c){var d;return c=c||{},d=f(this,"getPage",a,c.tabId,null,null,b),c.firstTab&&(d+="&firstTab=true"),c.listBuilderInstanceId&&(d+="&listBuilderInstanceId="+o(c.listBuilderInstanceId)),m(this,d)},getPageIsCustomizable:function(a){var b;return b=f(this,"getPageIsCustomizable",a),m(this,b)},getPageTab:function(a,b,c){var d;return d=f(this,"getPageTab",a,b,null,null,c),m(this,d)},getReportPage:function(a,c){var d;return c=c||{},d=f(this,"getReportPage")+"&reportId="+o(a),c.historyId&&(d+="&historyId="+o(c.historyId)),c.caption&&(d+="&caption="+o(c.caption)),c.displayPromptArea&&(d+="&displayPromptArea="+o(c.displayPromptArea)),d+=b.arrayToQueryString(c.parameters,p,!0),m(this,d,c)},getFunctionalAreaTaskAction:function(a,b){var c;return c=f(this,"getFunctionalAreaTaskAction"),a&&(c+="&functionalAreaId="+o(a)),b&&(c+="&taskId="+o(b)),m(this,c)},getTaskAction:function(a){var b;return b=f(this,"getTaskAction"),a&&(b+="&taskId="+o(a)),m(this,b)},getPageAction:function(a,b,c){var d;return d=f(this,"getPageAction",a,null,null,b,c),m(this,d)},getPageSection:function(a,b,c,d){var e;return e=f(this,"getPageSection",a,b,c,null,d),m(this,e)},getPageDataFormSectionAction:function(a,b,c,d,e,g,h){var i;return i=f(this,"getPageDataFormSectionAction",a,b,c,d,e)+"&formSessionId="+o(g)+"&modelInstanceId="+o(h),n(this,i,null)},getPageReportSectionAction:function(a,b,c,d,e,g){var h,i;return g&&(h=g.reportValues),i=f(this,"getPageReportSectionAction",a,b,c,d,e),n(this,i,h)},getPageUIWidgetSectionAction:function(a,b,c,d,e,g){var h,i=null;return h=f(this,"getPageUIWidgetSectionAction",a,b,c,d,e),g&&(g.pageRecordId&&(h+="&pageRecordId="+o(g.pageRecordId)),g.rowValues&&(i=g.rowValues)),n(this,h,i)},getPageUrlSectionAction:function(a,b,c,d,e,g){var h;return h=f(this,"getPageUrlSectionAction",a,b,c,d,e),g&&g.pageRecordId&&(h+="&pageRecordId="+o(g.pageRecordId)),n(this,h,null)},getPageDataListSectionAction:function(a,b,c,d,e,g,h){var i;return i=f(this,"getPageDataListSectionAction",a,b,c,d,e),h&&(h.pageRecordId&&(i+="&pageRecordId="+o(h.pageRecordId)),h.formSessionId&&(i+="&formSessionId="+o(h.formSessionId)),h.modelInstanceId&&(i+="&modelInstanceId="+o(h.modelInstanceId))),n(this,i,g)},getPageListBuilderSectionAction:function(a,b,c,d,e,g,h){var i;return i=f(this,"getPageListBuilderSectionAction",a,b,c,d,e),h&&h.pageRecordId&&(i+="&pageRecordId="+o(h.pageRecordId)),n(this,i,g)},getListBuilderAvailableColumns:function(a){var b;return b=f(this,"getListBuilderAvailableColumns")+"&queryViewId="+a,m(this,b)},listBuilderGetInstanceXml:function(a,b,c){var d;return d=f(this,"listBuilderGetInstanceXml")+"&queryViewId="+o(a),c.parameterFormSessionId&&(d+="&parameterFormSessionId="+o(c.parameterFormSessionId)),n(this,d,b)},listBuilderGetInstance:function(a){var b;return b=f(this,"listBuilderGetInstance")+"&listBuilderInstanceId="+a,m(this,b)},listBuilderClearAllSettings:function(a,b){var c;return c=f(this,"listBuilderClearAllSettings")+"&userSettingsPath="+a+"&queryViewId="+b,m(this,c)},adHocQueryClearAllSettings:function(a,b){var c;return c=f(this,"adHocQueryClearAllSettings")+"&userSettingsPath="+a+"&adHocQueryId="+b,m(this,c)},getAdHocQueryAvailableColumns:function(a){var b;return b=f(this,"getAdHocQueryAvailableColumns")+"&adHocQueryId="+a,m(this,b)},getPageSummarySectionAction:function(a,b,c,d,e){var g;return g=f(this,"getPageSummarySectionAction",a,null,null,b,c)+"&formSessionId="+o(d)+"&modelInstanceId="+o(e),m(this,g)},evaluateDataListSectionActions:function(a,b,c,d,e,g){var h;return h=f(this,"evaluateDataListSectionActions",a,b,c,null,d),g&&g.pageRecordId&&(h+="&pageRecordId="+o(g.pageRecordId)),n(this,h,e)},evaluateListBuilderSectionActions:function(a,b,c,d,e,g){var h;return h=f(this,"evaluateListBuilderSectionActions",a,b,c,null,d),g&&g.pageRecordId&&(h+="&pageRecordId="+o(g.pageRecordId)),n(this,h,e)},evaluateDataFormSectionActions:function(a,b,c,d,e,g){var h;return h=f(this,"evaluateDataFormSectionActions",a,b,c,null,d)+"&formSessionId="+o(e)+"&modelInstanceId="+o(g),n(this,h,null)},dataListGetOutputDefinition:function(a,c){var d;return c=c||{},c.cache=!0,d=b.urlConcat(this.baseUrl,"webui/mc/")+o(this.databaseName)+"/d/"+o(a)+"."+(c.timestamp||0)+"_bbmd.ashx",m(this,d)},queryViewGetOutputDefinition:function(a,c){var d;return c=c||{},c.cache=!0,d=b.urlConcat(this.baseUrl,"webui/mc/")+o(this.databaseName)+"/q/"+o(a)+"."+(c.timestamp||0)+"_bbmd.ashx",m(this,d)},dataListLoad:function(c,d,e){var f,g;return e=e||{},f=[h(this,c)],a(f,"recordId",d),e&&(a(f,"returnFormattedValues","true",!!e.returnFormattedValues),a(f,"pageRecordId",e.pageRecordId),a(f,"parameterFormSessionId",e.parameterFormSessionId),a(f,"functionalAreaId",e.functionalAreaId),a(f,"uiWidgetId",e.uiWidgetId),a(f,"personalizationMode",e.personalizationMode),a(f,"userSettingsPath",e.userSettingsPath),a(f,"returnFlotData","true",!!e.returnFlotData),a(f,"pageId",e.pageId),a(f,"tabId",e.tabId),a(f,"sectionId",e.sectionId),a(f,"moreRowsRangeKey",e.moreRowsRangeKey),a(f,"discardRows","true",!!e.discardRows),a(f,"returnPageNavigationTree","true",!!e.returnPageNavigationTree),a(f,"limit",e.limit),a(f,"cancelId",e.cancelId),f.push(b.arrayToQueryString(e.parameters,p,!0))),g=f.join(""),m(this,g)},simpleDataListLoad:function(a,c){var d;return d=f(this,"simpleDataListLoad")+"&simpleDataListId="+o(a),c&&(d+=b.arrayToQueryString(c.parameters,p,!0),d=j(d,c)),m(this,d)},buildPageSectionDataListResultsUrl:function(c,d,e,f,g){var i,j;return g||(g={}),i=[h(this,f,c,d,e)],a(i,"recordId",g.contextRecordId),a(i,"pageRecordId",g.pageRecordId),a(i,"returnFormattedValues","true",g.returnFormattedValues),a(i,"moreRowsRangeKey",g.moreRowsRangeKey),a(i,"previousRowCount",g.previousRowCount),a(i,"parameterFormSessionId",g.parameterFormSessionId),a(i,"personalizationMode",g.personalizationMode),a(i,"userSettingsPath",g.userSettingsPath),a(i,"exportFormat",g.exportFormat),a(i,"cancelId",g.cancelId),i.push(b.arrayToQueryString(g.parameters,p,!0)),j=i.join("")},buildPageSectionAdHocQueryListResultsUrl:function(b,c,d,f,g,h){var i,j,k=this;return i=[e(k,"WebShellAdHocQueryListService.ashx")+"&adHocQueryId="+o(f)+"&queryViewId="+o(g)+"&returnResults=true"],h=h||{},a(i,"returnFormattedValues","true",h.returnFormattedValues),a(i,"parameterFormSessionId",h.parameterFormSessionId),a(i,"pageId",b),a(i,"tabId",c),a(i,"sectionId",d),a(i,"pageRecordId",h.pageRecordId),a(i,"recordId",h.contextRecordId),a(i,"userSettingsPath",h.userSettingsPath),a(i,"saveUserSettings","true",!!h.saveUserSettings),a(i,"cancelId",h.cancelId),j=i.join("")},buildPageSectionListBuilderResultsUrl:function(b,c,d,f,g){var h,i,j=this;return h=[e(j,"WebShellListBuilderService.ashx")+"&queryViewId="+o(f)+"&returnResults=true"],g=g||{},a(h,"returnFormattedValues","true",g.returnFormattedValues),a(h,"parameterFormSessionId",g.parameterFormSessionId),a(h,"pageId",b),a(h,"tabId",c),a(h,"sectionId",d),a(h,"pageRecordId",g.pageRecordId),a(h,"recordId",g.contextRecordId),a(h,"userSettingsPath",g.userSettingsPath),a(h,"saveUserSettings","true",!!g.saveUserSettings),a(h,"moreRowsRangeKey",g.moreRowsRangeKey),a(h,"previousRowCount",g.previousRowCount),a(h,"cancelId",g.cancelId),a(h,"storeSettingsByContextRecordId",g.storeSettingsByContextRecordId),i=h.join("")},listBuilderClearCachedResults:function(a){var b,c=this;return b=e(c,"WebShellListBuilderService.ashx")+"&moreRowsRangeKey="+o(a)+"&discardRows=true",m(c,b)},pageSectionDataListLoad:function(a,b,c,d,e){var f;return f=this.buildPageSectionDataListResultsUrl(a,b,c,d,e),m(this,f)},recordOperationGetPrompt:function(a,b){var c;return c=f(this,"recordOperationGetPrompt")+"&recordOperationId="+o(a),b&&(c+="&recordId="+o(b)),m(this,c)},recordOperationPerform:function(b,c,d){var e,g,h;return d&&(d.parameters||d.recordIds)&&(h={},d.parameters&&(h.values=d.parameters),d.recordIds&&(h.recordIds=d.recordIds)),g=[f(this,"recordOperationPerform")],a(g,"recordOperationId",b),a(g,"recordId",c),e=g.join(""),n(this,e,h)},searchListGetOutputDefinition:function(a){var b;return b=f(this,"searchListGetOutputDefinition")+"&searchListId="+o(a),m(this,b)},searchListQuickFind:function(a,b,c){var d;return d=i(this,a,b),c&&(c.onlyReturnRows&&(d+="&onlyReturnRows=true"),c.maxRecords&&(d+="&maxRecords="+o(c.maxRecords))),m(this,d)},codeTableEntrySave:function(a,b,c){var d;return d=f(this,"codeTableEntrySave")+"&codeTableName="+o(a)+"&codeTableEntryId="+o(b),n(this,d,c)},kpiDashboardGetDefinition:function(a){var b;return b=f(this,"kpiDashboardGetDefinition"),a.returnValues&&(b+="&returnValues=true"),m(this,b)},queryViewGetFieldFindResults:function(a){var b;return b=f(this,"queryViewGetFieldFindResults"),n(this,b,a)},queryViewGetTree:function(a,b){var c;return c=f(this,"queryViewGetTree")+"&id="+o(a),c+=b&&b.forExport===!0?"&loadExportDefinitionViews=true":"&loadExportDefinitionViews=false",c+=b&&b.forReportModelGenerator===!0?"&reportModelViewsOnly=true":"&reportModelViewsOnly=false",m(this,c)},queryViewGetMetaData:function(a){var b;return b=f(this,"queryViewGetMetaData")+"&id="+o(a),m(this,b)},queryViewGetTreeNodeFields:function(a,b){var c;return c=f(this,"queryViewGetTreeNodeFields")+"&node="+o(a),c+=b&&b.forReportModelGenerator===!0?"&reportModelViewsOnly=true":"&reportModelViewsOnly=false",m(this,c)},buildQueryViewGetTreeNodeChildrenUrl:function(a,c,d){var e;return e=f(this,"queryViewGetTreeNodeChildren"),e+=b.is(c)&&c===!0?"&loadExportDefinitionViews=true":"&loadExportDefinitionViews=false",e+=b.is(d)&&d===!0?"&reportModelViewsOnly=true":"&reportModelViewsOnly=false"},adHocQueryProcess:function(a,b){var c,d;return c=this,d=g(c),b&&(b.returnFormattedValues&&(d+="&returnFormattedValues=true"),b.cancelId&&(d+="&cancelId="+b.cancelId)),n(c,d,a)},adHocQueryGetResults:function(a,b){var c;return c=g(this),b&&(b.returnFormattedValues&&(c+="&returnFormattedValues=true&getResults=true"),b.cancelId&&(c+="&cancelId="+o(b.cancelId))),n(this,c,a)},cancelAsyncOperation:function(a){var b;return b=e(this,"WebShellCancelAsyncOperation.ashx")+"&cancelId="+o(a),m(this,b)},buildAdHocQueryExportUrl:function(b){var c;return b=b||{},c=[],c.push(g(this)),c.push("&forExport=true"),a(c,"getResults","true",!!b.getResults),a(c,"queryViewId",b.queryViewId),c.join("")},buildListBuilderExportUrl:function(b){var c;return b=b||{},c=[],c.push(e(this,"WebShellListBuilderService.ashx")),c.push("&forExport=true"),a(c,"queryViewId",b.queryViewId),a(c,"suppressPrimaryKeyField","true",!!b.suppressPrimaryKeyField),a(c,"searchText",b.searchText),a(c,"parameterFormSessionId",b.parameterFormSessionId),c.join("")},buildAdHocQueryListExportUrl:function(b){var c;return b=b||{},c=[],c.push(e(this,"WebShellAdHocQueryListService.ashx")),c.push("&forExport=true"),a(c,"adHocQueryId",b.adHocQueryId),a(c,"queryViewId",b.queryViewId),a(c,"suppressPrimaryKeyField","true",!!b.suppressPrimaryKeyField),a(c,"searchText",b.searchText),a(c,"parameterFormSessionId",b.parameterFormSessionId),c.join("")},adHocQuerySave:function(a){var b;return b=f(this,"adHocQuerySave"),n(this,b,a)},adHocQuerySaveDataList:function(a){var b;return b=f(this,"adHocQuerySaveDataList"),n(this,b,a)},adHocQuerySaveReport:function(a){var b;return b=f(this,"adHocQuerySaveReport"),n(this,b,a)},adHocQuerySaveSmartQuery:function(a){var b;return b=f(this,"adHocQuerySaveSmartQuery"),n(this,b,a)},adHocQueryGetDefinition:function(a,c){var d,e=c.definitionType,g=c.throwOnInvalidFields;return d=f(this,"adHocQueryGetDefinition")+"&id="+o(a),b.is(e)||(e=0),d+="&definitionType="+o(e),b.is(g)&&(d+="&throwOnInvalidFields="+o(g)),m(this,d)},adHocQueryDelete:function(a){var b;return b=f(this,"adHocQueryDelete")+"&id="+o(a),n(this,b,null)},exportDefinitionSave:function(a){var b;return b=f(this,"exportDefinitionSave"),n(this,b,a)},exportDefinitionGetDefinition:function(a){var b;return b=f(this,"exportDefinitionGetDefinition")+"&id="+o(a),m(this,b)},smartQueryProcess:function(a,b){var c,d;return c=this,d=e(c,"WebShellSmartQueryService.ashx"),b&&(b.returnFormattedValues&&(d+="&returnFormattedValues=true"),b.cancelId&&(d+="&cancelId="+o(b.cancelId))),n(c,d,a)},smartQueryGetResults:function(a,b){var c;return c=e(this,"WebShellSmartQueryService.ashx"),b&&(b.returnFormattedValues&&(c+="&returnFormattedValues=true&getResults=true"),b.cancelId&&(c+="&cancelId="+o(b.cancelId))),n(this,c,a)},buildSmartQueryExportUrl:function(a){var b;return b=[],b.push(e(this,"WebShellSmartQueryService.ashx")),b.push("&forExport=true"),a&&a.getResults&&b.push("&getResults=true"),b.join("")},userGetFunctionalAreaHistory:function(a,b){var c;return c=f(this,"userGetFunctionalAreaHistory")+"&functionalAreaId="+o(a),b&&(b.folderPath&&(c+="&folderPath="+o(b.folderPath)),b.includeSearchTasks&&(c+="&includeSearchTasks=true"),b.includeShortcuts&&(c+="&includeShortcuts=true"),b.skipMru||(c+="&includeMru=true")),m(this,c)},userUpdateDataFormSettings:function(a,b){var c;return c=f(this,"userUpdateDataFormSettings")+"&formSessionId="+o(a)+"&userSettingsPath="+o(b),n(this,c,null)},userUpdateSelectedPervasiveSearchTask:function(a){var b;return b=f(this,"userUpdateSelectedPervasiveSearchTask"),a&&(b+="&pervasiveSearchTaskId="+o(a)),n(this,b,null)},userUpdateShortcuts:function(a,b){var c;return b=b||{},c=f(this,"userUpdateShortcuts"),b.remove&&(c+="&remove="+o(b.remove)),b.replace&&(c+="&replace="+o(b.replace)),n(this,c,a)},userUpdatePageActionGroupSettings:function(a,b){var c;return c=f(this,"userUpdatePageActionGroupSettings")+"&pageId="+o(a),n(this,c,b)},userUpdateFunctionalAreaActionGroupSettings:function(a,b){var c;return c=f(this,"userUpdateFunctionalAreaActionGroupSettings")+"&functionalAreaId="+o(a),n(this,c,b)},userUpdatePageDataListSettings:function(a,b,c,d){var e;return e=f(this,"userUpdatePageDataListSettings",a,null,b)+"&dataListId="+o(c),n(this,e,d)},userUpdatePageListBuilderSettings:function(a,b,c,d){var e;return d=d||{},e=f(this,"userUpdatePageListBuilderSettings")+"&queryViewId="+o(a)+"&userSettingsPath="+o(b),d.storeSettingsByContextRecordId&&(e+="&storeSettingsByContextRecordId=true",d.contextRecordId&&(e+="&contextRecordId="+o(d.contextRecordId))),n(this,e,c)},userUpdateAdHocQueryListBuilderSettings:function(a,b,c,d){var e;return e=f(this,"userUpdatePageListBuilderSettings")+"&queryViewId="+o(a)+"&adHocQueryId="+o(b)+"&userSettingsPath="+o(c),n(this,e,d)},userUpdatePageSectionSettings:function(a,b){var c;return c=f(this,"userUpdatePageSectionSettings")+"&pageId="+o(a),n(this,c,b)},userUpdatePageTabSettings:function(a,b){var c;return c=f(this,"userUpdatePageTabSettings")+"&pageId="+o(a),n(this,c,b)},userSetFeatureTipSeen:function(a,b){var c;return c=f(this,"userSetFeatureTipSeen"),n(this,c,{featureTipId:a,tipSeen:b})},userGetFeatureTipSeen:function(a,b){var c;return c=f(this,"userGetFeatureTipSeen"),n(this,c,{featureTipId:a,setTipAsSeen:b})},userUpdateSearchListGridSettings:function(a,b){var c;return c=f(this,"userUpdateSearchListGridSettings")+"&searchlistid="+o(a),n(this,c,b)},userGetSearchListGridSettings:function(a){var b;return b=f(this,"userGetSearchListGridSettings")+"&searchlistid="+o(a),m(this,b)},userUpdateActionPanelSettings:function(a){var b;return b=f(this,"userUpdateActionPanelSettings"),n(this,b,a)},featureSearch:function(a,b){var c;return c=f(this,"featureSearch")+"&criteria="+o(a),b&&(c+="&onlyRssFeeds=true"),m(this,c)},buildRssFeedUrl:function(a,c){var d;return d=b.urlConcat(this.baseUrl,"rssfeed.ashx?WebShell=true&DBName="+o(this.databaseName)+"&DataListID="+o(a)),c&&(d+="&ContextRecordID="+c),d},dataFormLoad:function(a,b){var c;return b=b||{},c=f(this,"dataFormLoad")+"&dataFormInstanceId="+o(a),b.recordId&&(c+="&recordId="+o(b.recordId)),b.contextRecordId&&(c+="&contextRecordId="+o(b.contextRecordId)),c=j(c,b),m(this,c)},dataFormSave:function(a,b){var c,d;return b=b||{},d={},c=f(this,"dataFormSave")+"&dataFormInstanceId="+o(a),b.recordId&&(c+="&recordId="+o(b.recordId)),b.contextRecordId&&(c+="&contextRecordId="+o(b.contextRecordId)),c=j(c,b),b.values&&(d.values=b.values),n(this,c,d)},taskWizardGetDefinition:function(a){var b;return b=f(this,"taskwizardgetdefinition")+"&taskWizardId="+o(a),m(this,b)},taskWizardGetTaskStatus:function(a){var b;return b=f(this,"taskwizardgettaskstatus")+"&taskId="+o(a),m(this,b)},buildReportExportUrl:function(a,c,d,e,g,h){var i;return i=f(this,"exportReport")+"&reportId="+o(a),c&&(i+="&historyId="+o(c)),b.is(d)||(d=2),i+="&exportType="+o(d),e&&(i+="&deviceInfo="+o(e)),g&&(i+="&dataFormItemKey="+o(g)),h&&(i+="&fileName="+o(h)),i},cacheDataFormItem:function(a){var b,c;return a&&(c={values:a}),b=f(this,"cacheDataFormItem"),n(this,b,c)},idMap:function(a,b){var c;return c=f(this,"idMap")+"&idMapperId="+o(a),b&&(c+="&sourceId="+o(b)),m(this,c)},securityUserGrantedFeature:function(a,b){var c;return c=f(this,"securityUserGrantedFeature")+"&id="+o(a)+"&featureType="+o(b),m(this,c)},loadCatalogItem:function(a,b,c){var d;return d=f(this,"loadCatalogItem")+"&sourceType="+o(a)+"&sourceName="+o(b)+"&itemResourceName="+o(c),n(this,d,null)},getPageHelpKey:function(a,b,c,d){var e;return e=f(this,"getPageHelpkey",a,b,c,null,d),m(this,e)},buildSvcBaseUrl:function(a){return f(this,a)},doGet:function(a){return l(this,"GET",a,null)},doPost:function(a,b){return l(this,"POST",a,b)}}}(),{create:function(b,e,f){var g;if(b=b||c.baseUrl,e=e||c.databaseName,null===b||!e)throw new Error("You must either provide a baseUrl and databaseName as parameters or set them globally using bbuiShellServiceConfig.");return g=new d(b,e,f),g.$http=a,g}}}])}(),function(){"use strict";angular.module("bbui.uimodelingservice",[]).constant("bbuiUIModelingServiceConfig",{baseUrl:null,databaseName:null}).factory("bbuiUIModelingService",["$http","bbui","bbuiUIModelingServiceConfig",function(a,b,c){function d(a,c,d,e,f){var g;return g=b.urlConcat(a.baseUrl,"uimodel/UIModelingService.ashx?action=")+c+"&databaseName="+i(a.databaseName),a.runAs&&(g+="&runAs="+i(a.runAs)),d&&(g+="&formSessionId="+i(d)),e&&(g+="&modelInstanceId="+i(e)),f&&(g+="&fieldId="+i(f)),g}function e(a,b,c,d){return a.$http({method:b,url:c,data:d,cache:!1})}function f(a,b){return e(a,"GET",b,null)}function g(a,b,c){return e(a,"POST",b,c)}function h(a,b){return b&&(b.recordId&&(a+="&recordId="+i(b.recordId)),b.contextRecordId&&(a+="&contextRecordId="+i(b.contextRecordId)),b.uiWidgetDashboardSystemId&&(a+="&uiWidgetDashboardSystemId="+i(b.uiWidgetDashboardSystemId)),b.uiWidgetDashboardWidgetId&&(a+="&uiWidgetDashboardWidgetId="+i(b.uiWidgetDashboardWidgetId)),b.userSettingsPath&&(a+="&userSettingsPath="+i(b.userSettingsPath))),a}var i,j,k,l,m;return i=encodeURIComponent,j=[],k=0,l=100,m=function(a,c,d){var e,f;e=this,e.baseUrl=a,e.databaseName=c,d&&(e.runAs=d.runAs,e.onRequestBegin=d.onRequestBegin,e.onRequestEnd=d.onRequestEnd,e.httpHeaders=d.httpHeaders,e.useEventQueue=f=!b.is(d.useEventQueue)||d.useEventQueue,f&&(e._formSessionQueue={})),e.handlers={}},m.prototype={on:function(a,b,c,d){var e,f;f=this.handlers,e=f[a],e||(e=f[a]=[]),e.push({fn:b,formSessionId:d,scope:c})},un:function(a,b,c){var d,e;if(d=this.handlers[a])for(e=d.length;e--;)if(d[e].fn===b&&d[e].formSessionId===c){d.splice(e,1);break}},createFormSession:function(a,b,c,e){var f;return e=e||{},f=d(this,"createFormSession")+"&assemblyName="+i(a)+"&className="+i(b),f=h(f,e),g(this,f,c)},createMergeTaskFormSession:function(a,b,c){var e;return c=c||{},e=d(this,"createMergeTaskFormSession")+"&mergeTaskId="+i(a),e=h(e,c),g(this,e,b)},createDataFormSession:function(a,b,c){var e;return c=c||{},e=d(this,"createDataFormSession")+"&dataFormInstanceId="+i(a),e=h(e,c),g(this,e,b)},createSearchListSession:function(a,b){var c;return c=d(this,"createSearchListFormSession")+"&searchListId="+i(a),g(this,c,b)},createDataListFilterFormSession:function(a,b,c){var e;return c=c||{},e=d(this,"createDataListFilterFormSession")+"&dataListId="+i(a),e=h(e,c),g(this,e,b)},createListBuilderFilterFormSession:function(a,b,c){var e;return c=c||{},e=d(this,"createListBuilderFilterFormSession")+"&queryViewId="+i(a),e=h(e,c),g(this,e,b)},createReportParameterFormSession:function(a,b,c,e){var f;return e=e||{},f=d(this,"createReportParameterFormSession")+"&reportId="+i(a),b&&(f+="&historyId="+i(b)),e.showAllParameters&&(f+="&showAllParameters=true"),g(this,f,c)},createBusinessProcessFormSession:function(a,b,c){var e;return c=c||{},e=d(this,"createBusinessProcessFormSession")+"&businessProcessId="+i(a),e=h(e,c),g(this,e,b)},buildSearchListResultsUrl:function(a,c,d,e,f,g,h){var j;return j=b.urlConcat(this.baseUrl,"uimodel/UIModelingSearchService.ashx?databaseName=")+i(this.databaseName),this.runAs&&(j+="&runAs="+i(this.runAs)),j+="&formSessionId="+i(a)+"&modelInstanceId="+i(c),d&&(j+="&htmlEncodeValues=true"),e&&(j+="&returnFormattedValues=true"),f&&(j+="&taskId="+i(f)),g&&(j+="&taskHistoryId="+i(g)),h&&(j+="&cancelId="+i(h)),j},buildStartBusinessProcessUrl:function(a,c,d,e){var f;return f=b.urlConcat(this.baseUrl,"uimodel/UIModelingBusinessProcessService.ashx?databaseName=")+i(this.databaseName)+"&businessProcessId="+i(a),b.is(c)&&(f+="&parameterSetId="+i(c)),b.is(d)&&(f+="&dataFormItemKey="+i(d)),b.is(e)&&(f+="&businessProcessStatusId="+i(e)),this.runAs&&(f+="&runAs="+i(this.runAs)),f},searchListGetOutputDefinition:function(a,b,c,e){var g=d(this,"searchListGetOutputDefinition",a,b)+"&returnExistingResults="+(c?"true":"false");return e||(e={}),e.taskHistoryId&&(g+="&taskHistoryId="+i(e.taskHistoryId)),f(this,g)},getSearchListResults:function(a,b,c,d){var e;return d||(d={}),e=this.buildSearchListResultsUrl(a,b,c,d.returnFormattedValues,d.taskId,d.taskHistoryId,d.cancelId)+"&_reqid="+(new Date).getTime(),f(this,e)},invokeSearchItemSelected:function(a,b,c){var e=d(this,"invokeSearchItemSelected",a,b);return g(this,e,c)},invokeFieldSearch:function(a,b,c){var e=d(this,"invokeFieldSearch",a,b,c);return g(this,e)},invokeFieldQuickFind:function(a,c,d,e){var f;return f=b.urlConcat(this.baseUrl,"uimodel/UIModelingSearchService.ashx?databaseName="+i(this.databaseName)+"&formSessionId="+i(a)+"&modelInstanceId="+i(c)+"&fieldId="+i(d)+"&quickFindCriteria="+i(e)),this.runAs&&(f+="&runAs="+i(this.runAs)),g(this,f)},invokeFieldAutoSearch:function(a,c,d){var e;return e=b.urlConcat(this.baseUrl,"uimodel/UIModelingSearchService.ashx?databaseName="+i(this.databaseName)+"&formSessionId="+i(a)+"&modelInstanceId="+i(c)+"&fieldId="+i(d)+"&autoSearch=true"),this.runAs&&(e+="&runAs="+i(this.runAs)),g(this,e)},invokeQuickFind:function(a,c){var d;return d=b.urlConcat(this.baseUrl,"uimodel/UIModelingSearchService.ashx?databaseName="+i(this.databaseName)+"&searchListId="+i(a)+"&quickFindCriteria="+i(c)),this.runAs&&(d+="&runAs="+i(this.runAs)),g(this,d)},checkForDuplicate:function(a,c){var d;return d=b.urlConcat(this.baseUrl,"uimodel/UIModelingSearchService.ashx?databaseName="+i(this.databaseName)+"&formSessionId="+i(a)+"&modelInstanceId="+i(c)+"&duplicateCheck=true"),this.runAs&&(d+="&runAs="+i(this.runAs)),g(this,d,null)},selectFieldSearchItem:function(a,b,c,e,f){var h=d(this,"selectFieldSearchItem",a,b,c)+"&searchFormSessionId="+i(e);return g(this,h,f)},selectFieldSearchItemById:function(a,b,c,e){var f=d(this,"selectFieldSearchItemById",a,b,c);return g(this,f,e)},selectActionSearchItem:function(a,b,c,e,f){var h=d(this,"selectSearchItemAction",a,b)+"&actionId="+c+"&searchFormSessionId="+i(e);return g(this,h,f)},selectActionSearchItemById:function(a,b,c,e){var f=d(this,"selectSearchItemActionById",a,b)+"&actionId="+c;return g(this,f,e)},updateField:function(a,b,c,e){var f=d(this,"updateField",a,b,c);return g(this,f,e)},updateMultipleFields:function(a,b,c){var e=d(this,"updateMultipleFields",a,b);return g(this,e,c)},updateRelationshipMapFieldProperties:function(a,b,c,e){var f=d(this,"updateRelationshipMapFieldProperties",a,b,c);return g(this,f,e)},selectTreeViewNode:function(a,b,c,e){var f=d(this,"selectTreeViewNode",a,b,c)+"&nodePath="+i(e);return g(this,f,null)},selectTreeViewNodes:function(a,b,c,e){var f=d(this,"selectTreeViewNodes",a,b,c);return g(this,f,e)},setTreeViewNodeExpanded:function(a,b,c,e,f){var h=d(this,"setTreeViewNodeExpanded",a,b,c)+"&nodePath="+i(e)+"&expanded="+i(f);return g(this,h,null)},addCodeTableEntry:function(a,b,c,e){var f=d(this,"addCodeTableEntry",a,b,c);return g(this,f,e)},deleteCollectionItem:function(a,b,c,e){var f=d(this,"deleteCollectionItem",a,b,c)+"&itemInstanceId="+i(e);return g(this,f,null)},deleteCollectionItems:function(a,b,c,e){var f=d(this,"deleteCollectionItems",a,b,c);return g(this,f,e)},deleteSelectedCollectionItems:function(a,b,c){var e=d(this,"deleteSelectedCollectionItems",a,b,c);return g(this,e,null)},setCollectionItemSelected:function(a,b,c,e,f){var h=d(this,"selectCollectionItem",a,b,c)+"&itemInstanceId="+i(e)+"&selected="+(f?"true":"false");return g(this,h,null)},moveCollectionItem:function(a,b,c,e,f){var h=d(this,"moveCollectionItem",a,b,c)+"&itemInstanceId="+i(e)+"&newindex="+i(f);return g(this,h,null)},confirmForm:function(a,c){var e;return b.is(c)||(c={}),e=d(this,"confirmFormSession",a),c.returnDataFormItem&&(e+="&returnDataFormItem=true"),c.storeDataFormItem&&(e+="&storeDataFormItem=true"),c.skipValidate&&(e+="&skipValidate=true"),g(this,e,null)},cancelSession:function(a,b){var c;return c=d(this,"closeFormSession",a),c+="&canceling=true",b&&(c+="&overridedirty=true"),g(this,c,null)},handlePrompt:function(a,b,c,e){var f=d(this,"handlePrompt",a,b)+"&promptId="+i(c);return g(this,f,e)},invokeAction:function(a,b,c,e){var f,h;return h=d(this,"invokeAction",a,b)+"&actionId="+i(c),e?((e.parameters||e.defaultValues)&&(f={},e.parameters&&(f.parameters=e.parameters),e.defaultValues&&(f.defaultValues=e.defaultValues)),e.cancelId&&(h+="&cancelId="+i(e.cancelId))):f=null,g(this,h,f)},confirmFormAction:function(a,b,c,e){var f=d(this,"confirmFormAction",a,b)+"&actionId="+i(c)+"&confirmFormSessionId="+i(e);return g(this,f,null)},cancelFormAction:function(a,b,c){var e=d(this,"cancelFormAction",a,b)+"&actionId="+i(c);return g(this,e,null)},notifyFormHidden:function(a){var b=d(this,"notifyFormHidden",a);return g(this,b,null)},notifyFormShown:function(a){var b=d(this,"notifyFormShown",a);return g(this,b,null)},invokeCollectionPageChange:function(a,b,c,e){var f=d(this,"invokeCollectionPageChange",a,b,c)+"&start="+e;return g(this,f,null)},invokeCollectionSelectionUpdate:function(a,b,c,e){var f=d(this,"collectionSelectionUpdate",a,b,c);return g(this,f,e)},invokeCollectionSpecialAction:function(a,b,c,e){var f=d(this,"invokeCollectionSpecialAction",a,b,c)+"&actionname="+e;return g(this,f,null)},invokeFileChanged:function(a,b,c,e){var f=d(this,"selectFile",a,b,c);return g(this,f,e)},cancelAction:function(a,b,c,e){var f=d(this,"cancelAction",a,b,c)+"&cancelId="+i(e);return g(this,f,null)},getFieldDataSourceUrl:function(a,b,c){return d(this,"getFieldDataSource",a,b,c)},getFieldDataSource:function(a,b,c){var e=d(this,"getFieldDataSource",a,b,c);return f(this,e)},getFieldImageUrl:function(a,b,c){return d(this,"getFieldImage",a,b,c)},getFieldFileUrl:function(a,b,c,e){var f;return f=d(this,"getFieldFile",a,b,c),e&&e.fileName&&(f+="&fileName="+i(e.fileName)),f},getCustomFileUrl:function(a,b,c,e){var f;return f=d(this,"getCustomFile",a,b)+"&key="+i(c)+"&fileName="+i(e)},getUploadFieldImageUrl:function(a,b,c,e){var f;return f=d(this,"uploadFieldImage",a,b,c),e&&(f+="&thumbnailFieldId="+i(e)),f},getUploadFieldFileUrl:function(a,c,d){
var e;return d=d||!1,e=b.urlConcat(this.baseUrl,"Upload/FileUpload.ashx?DBName="+i(this.databaseName)+"&FieldID="+i(a)+"&FileUploadKey="+i(c)+(d===!0?"":"&InitialRequest=true")),this.runAs&&(e+="&runAs="+i(this.runAs)),e},createSearchListAddFormSession:function(a,b,c,e,f,h){var j=d(this,"searchListAddFormInvoke",a,b,c)+"&dataFormInstanceId="+i(h)+"&searchFormSessionId="+i(e)+"&searchModelInstanceId="+i(f);return g(this,j,null)},createSearchListActionAddFormSession:function(a,b,c,e,f,h){var j=d(this,"actionSearchListAddFormInvoke",a,b)+"&actionId="+i(c)+"&dataFormInstanceId="+i(h)+"&searchFormSessionId="+i(e)+"&searchModelInstanceId="+i(f);return g(this,j,null)},confirmSearchListAddForm:function(a,b,c,e,f){var h=d(this,"searchListAddFormConfirm",a,b,c)+"&confirmFormSessionId="+i(e)+"&ignoreConcurrency="+i(f);return g(this,h,null)},confirmSearchListActionAddForm:function(a,b,c,e,f){var h=d(this,"actionSearchListAddFormConfirm",a,b)+"&actionId="+i(c)+"&confirmFormSessionId="+i(e)+"&ignoreConcurrency="+i(f);return g(this,h,null)},confirmSearchListAddQuery:function(a,b,c,e,f){var h=d(this,"searchListAddQueryConfirm",a,b)+"&fieldId="+i(c)+"&queryInstanceId="+i(e)+"&selectionId="+i(f);return g(this,h,null)},confirmQueryAction:function(a,b,c,e,f,h){var j=d(this,"confirmQueryAction",a,b)+"&actionId="+i(c)+"&queryInstanceId="+i(e)+"&selectionId="+i(f)+"&queryType="+i(h);return g(this,j,null)},confirmSearchListAddExportDefinition:function(a,b,c,e){var f=d(this,"searchListAddExportDefinitionConfirm",a,b)+"&fieldId="+i(c)+"&exportDefinitionId="+i(e);return g(this,f,null)},confirmExportDefinitionAction:function(a,b,c,e){var f=d(this,"confirmExportDefinitionAction",a,b)+"&actionId="+i(c)+"&exportDefinitionId="+i(e);return g(this,f,null)},resetFormSession:function(a,b){var c=d(this,"resetFormSession",a,b);return g(this,c,null)},refreshFormSession:function(a,b){var c=d(this,"refreshFormSession",a,b);return g(this,c,null)},selectDuplicateRecord:function(a,b,c){var e=d(this,"selectDuplicateRecord",a,b)+"&selectedRecordId="+i(c);return g(this,e,null)},startBusinessProcess:function(a,b,c,d){var e,f,h;return d=d||{},h=d.businessProcessStatusId,e=this.buildStartBusinessProcessUrl(a,b,c,h),!c&&d.values&&(f={values:d.values}),g(this,e,f)},selectDuplicateRecordAction:function(a,b,c,e,f){var h=d(this,"selectDuplicateRecordAction",a,b)+"&duplicateFormSessionId="+i(e)+"&actionId="+i(c)+"&selectedRecordId="+i(f);return g(this,h,null)},invokeRelationshipMapNodeAction:function(a,b,c,e,f){var h=d(this,"relationshipMapNodeInvokeAction",a,b,c)+"&nodeId="+i(e)+"&actionName="+i(f);return g(this,h,null)},buildReportHostUrl:function(a,c){var d;return d=b.urlConcat(this.baseUrl,"uimodel/ReportHost.aspx?databaseName=")+i(this.databaseName)+"&reportId="+i(a),c=c||{},c.historyId&&(d+="&historyId="+i(c.historyId)),c.formSessionId&&(d+="&formSessionId="+i(c.formSessionId)),c.modelInstanceId&&(d+="&modelInstanceId="+i(c.modelInstanceId)),b.is(c.showToolbar)&&(d+="&showToolbar="+i(c.showToolbar)),b.is(c.runAs)&&(d+="&runAs="+i(c.runAs)),c.showParameterPrompts&&(d+="&showParameterPrompts=true"),c.showPromptAreaButton&&(d+="&showPromptAreaButton=true"),c.displayPromptArea&&(d+="&displayPromptArea="+i(c.displayPromptArea)),d+=b.arrayToQueryString(c.parameters,"p_",!0)},validateFormSession:function(a){var b;return b=d(this,"validateformsession",a),g(this,b,null)},removeFromQueue:function(a,b,c){var d,e,f,g,h;if(this._formSessionQueue&&(h=this._formSessionQueue[a],h&&h.eventQueue&&h.eventQueue.length))for(g=h.eventQueue,d=0,e=g.length;d<e;++d)if(f=g[d][2].toLowerCase(),!(c.action&&f.indexOf(c.action.toLowerCase())===-1||c.fieldName&&f.indexOf(c.fieldName.toLowerCase())===-1)){g.splice(d,1);break}},getFormSessionDataFormItemXml:function(a,b){var c=d(this,"getFormSessionDataFormItemXml",a,b);return f(this,c)},reportActionFormSaved:function(a,b,c){var e=d(this,"reportActionFormSaved",a,b)+"&actionId="+i(c);return g(this,e,null)},clearParameterDetail:function(a,b,c){var e;return e=d(this,"clearParameterDetail")+"&formSessionId="+i(a)+"&modelInstanceId="+i(b)+"&parameterDetailName="+i(c),g(this,e,null)},cancelAsyncOperation:function(a){var c=b.urlConcat(this.baseUrl,"uimodel/UIModelingCancelAsyncOperation.ashx?databaseName=")+i(this.databaseName)+"&cancelId="+i(a);return f(this,c)}},{create:function(b,d,e){var f;if(b=b||c.baseUrl,d=d||c.databaseName,null===b||!d)throw new Error("You must either provide a baseUrl and databaseName as parameters or set them globally using bbuiShellServiceConfig.");return f=new m(b,d,e),f.$http=a,f}}}])}(this);
//# sourceMappingURL=bbui.min.js.map